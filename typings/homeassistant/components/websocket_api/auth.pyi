"""
This type stub file was generated by pyright.
"""

from collections.abc import Callable
from typing import Any, Final, TYPE_CHECKING
from aiohttp.web import Request
from homeassistant.core import CALLBACK_TYPE, HomeAssistant
from homeassistant.util.json import JsonValueType
from .connection import ActiveConnection
from .http import WebSocketAdapter

"""Handle the auth of a connection."""
if TYPE_CHECKING:
    ...
TYPE_AUTH: Final = ...
TYPE_AUTH_INVALID: Final = ...
TYPE_AUTH_OK: Final = ...
TYPE_AUTH_REQUIRED: Final = ...
AUTH_MESSAGE_SCHEMA: Final = ...
def auth_ok_message() -> dict[str, str]:
    """Return an auth_ok message."""
    ...

def auth_required_message() -> dict[str, str]:
    """Return an auth_required message."""
    ...

def auth_invalid_message(message: str) -> dict[str, str]:
    """Return an auth_invalid message."""
    ...

class AuthPhase:
    """Connection that requires client to authenticate first."""
    def __init__(self, logger: WebSocketAdapter, hass: HomeAssistant, send_message: Callable[[str | dict[str, Any]], None], cancel_ws: CALLBACK_TYPE, request: Request) -> None:
        """Initialize the authentiated connection."""
        ...
    
    async def async_handle(self, msg: JsonValueType) -> ActiveConnection:
        """Handle authentication."""
        ...
    


